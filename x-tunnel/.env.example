############################################
# suoha-x.sh - .env 示例模板（不要提交真实密钥）
# 用法示例：
#   ./suoha-x.sh install -m api -e -z your.zone.tld
############################################

########################
# Cloudflare 认证（二选一）
########################

# ✅ 推荐：API Token（更安全，脚本会优先使用 cf_api_token）
# 需要权限建议：
# - Account: Cloudflare Tunnel (Edit)
# - Zone: DNS (Edit)
cf_api_token="YOUR_CLOUDFLARE_API_TOKEN"

# 备选：Global API Key（不推荐；若 cf_api_token 为空则使用该方式）
# cf_email="you@example.com"
# cf_global_key="YOUR_CLOUDFLARE_GLOBAL_API_KEY"

########################
# 隧道与域名配置（必填/强烈建议）
########################

# ✅ 必填：要绑定的域名（脚本用于配置 ingress 和 DNS CNAME）
# 例：x-tunnel-1.example.com
cf_domain="x-tunnel-1.example.com"

# ✅ 强烈建议填写：Zone（你的域名所在的 zone），也可以运行时用 -z 指定
# 例：example.com 或 sub.example.com（取决于你在 Cloudflare 中托管的 zone）
cf_zone="example.com"

# ✅ 必填：Tunnel 名称（脚本用它检查同名隧道、删除重建、创建固定隧道）
cf_tunnel_name="x-tunnel-1"

########################
# x-tunnel 本地服务配置（可选）
########################

# 可选：x-tunnel 的 token（如果你希望 x-tunnel 开启 token 校验）
# 不需要可留空或删除该行
# token="YOUR_X_TUNNEL_TOKEN"
token=""

# 可选：指定 x-tunnel 本地监听端口
# 留空则脚本自动找一个空闲端口
# port="30000"
port=""

########################
# cloudflared 运行参数（可选）
########################

# 可选：--edge-ip-version（cloudflared 使用 IPv4 或 IPv6）
# 4 = IPv4（默认）
# 6 = IPv6
ips="4"

########################
# 预留/兼容字段（当前脚本不会使用，但保留不影响）
########################

# opera="0"
opera="0"

# country="AM"
country="AM"

########################
# 日志目录（可选）
########################

# 可选：日志输出目录
# 不填则默认使用脚本运行目录（pwd）
# LOG_DIR="/var/log/suoha-x"
# LOG_DIR=""

########################
# 日志轮转（可选）
########################

# 单个日志文件超过多少 MB 时滚动（默认 10）
# LOG_MAX_SIZE_MB="10"

# 保留多少份滚动日志（默认 7）
# LOG_ROTATE_KEEP="7"

# 是否启用 logrotate（默认 1；脚本会尝试写入 /etc/logrotate.d/）
# LOG_USE_LOGROTATE="1"
